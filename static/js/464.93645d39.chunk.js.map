{"version":3,"file":"static/js/464.93645d39.chunk.js","mappings":"yMACA,EAAiC,iC,+DCkDjC,MA3CA,WACE,OAA4BA,EAAAA,EAAAA,UAAS,IAArC,eAAOC,EAAP,KAAeC,EAAf,KACA,GAAsCF,EAAAA,EAAAA,UAAS,GAA/C,eAAOG,EAAP,KAAoBC,EAApB,KAEMC,GAAcC,EAAAA,EAAAA,cAAY,SAAAC,GAC9BC,EAAAA,EAAAA,cACiBD,GACdE,MAAK,SAAAC,GACqB,IAArBA,EAAUC,QACZC,EAAAA,GAAAA,MAAY,4CAEdV,GAAU,SAAAW,GAAU,wBAAQA,IAAR,OAAuBH,GAAvB,IACpBN,GAAe,SAAAU,GAAQ,OAAIA,EAAW,CAAf,GACxB,IACAC,OAAM,SAAAC,GACLC,QAAQD,MAAMA,EACf,GACJ,GAAE,IAUH,OAJAE,EAAAA,EAAAA,YAAU,WACRb,EAAYF,EACb,GAAE,CAACE,EAAaF,KAGf,oBAASgB,UAAWC,EAApB,UACE,SAAC,IAAD,CACEC,WAAYpB,EAAOU,OACnBW,KAZN,WACEjB,EAAYF,EACb,EAWKoB,SAAS,EACTC,QAAQ,sCAJV,UAME,SAACC,EAAA,EAAD,WACE,SAACC,EAAA,EAAD,CAAYzB,OAAQA,SAK7B,C","sources":["webpack://react-homework-template/./src/pages/HomePage/HomePage.module.css?5baa","pages/HomePage/HomePage.jsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"trandingMovies\":\"HomePage_trandingMovies__2UC1J\"};","import css from './HomePage.module.css';\nimport Container from 'components/Container/Container';\nimport MoviesList from 'components/MoviesList/MoviesList';\nimport { useState, useEffect, useCallback } from 'react';\nimport InfiniteScroll from 'react-infinite-scroll-component';\nimport apiTheMovieDB from 'service/kino-api';\nimport { toast } from 'react-toastify';\n\nfunction HomePage() {\n  const [movies, setMovies] = useState([]);\n  const [currentPage, setCurrentPage] = useState(1);\n\n  const fetchMovies = useCallback(page => {\n    apiTheMovieDB\n      .fetchTrending(page)\n      .then(newMovies => {\n        if (newMovies.length === 0) {\n          toast.error('sorry ,thats all the movies we cold find');\n        }\n        setMovies(prevMovies => [...prevMovies, ...newMovies]);\n        setCurrentPage(prevPage => prevPage + 1);\n      })\n      .catch(error => {\n        console.error(error);\n      });\n  }, []);\n\n  function handleLoadMore() {\n    fetchMovies(currentPage);\n  }\n\n  useEffect(() => {\n    fetchMovies(currentPage);\n  }, [fetchMovies, currentPage]);\n\n  return (\n    <section className={css.trandingMovies}>\n      <InfiniteScroll\n        dataLength={movies.length}\n        next={handleLoadMore}\n        hasMore={true}\n        loader={<p>Loading...</p>}\n      >\n        <Container>\n          <MoviesList movies={movies} />\n        </Container>\n      </InfiniteScroll>\n    </section>\n  );\n}\n\nexport default HomePage;\n"],"names":["useState","movies","setMovies","currentPage","setCurrentPage","fetchMovies","useCallback","page","apiTheMovieDB","then","newMovies","length","toast","prevMovies","prevPage","catch","error","console","useEffect","className","css","dataLength","next","hasMore","loader","Container","MoviesList"],"sourceRoot":""}