"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[755],{6205:function(e,n,t){t.r(n),t.d(n,{default:function(){return m}});var r=t(3433);function c(e,n,t,r,c,a,o){try{var u=e[a](o),s=u.value}catch(i){return void t(i)}u.done?n(s):Promise.resolve(s).then(r,c)}function a(e){return function(){var n=this,t=arguments;return new Promise((function(r,a){var o=e.apply(n,t);function u(e){c(o,r,a,u,s,"next",e)}function s(e){c(o,r,a,u,s,"throw",e)}u(void 0)}))}}var o=t(9439),u=t(7757),s=t.n(u),i=t(2791),h=t(7689),f=t(7367),l=t(4771),v=t(2743),d=t(7596),p=t(184);var m=function(){var e=(0,h.UO)().id,n=(0,i.useState)([]),t=(0,o.Z)(n,2),c=t[0],u=t[1],m=(0,i.useState)(1),x=(0,o.Z)(m,2),k=x[0],w=x[1],Z=(0,i.useCallback)(a(s().mark((function n(){var t;return s().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,f.Z.fetchByGenre(e,k);case 3:t=n.sent,u((function(e){return[].concat((0,r.Z)(e),(0,r.Z)(t.results))})),w((function(e){return e+1})),n.next=11;break;case 8:n.prev=8,n.t0=n.catch(0),d.Am.error("Failed to fetch movies.");case 11:case"end":return n.stop()}}),n,null,[[0,8]])}))),[e,k]);return(0,i.useEffect)((function(){0===c.length&&Z()}),[Z,c.length]),(0,p.jsxs)("div",{children:[(0,p.jsx)("h2",{children:"Movies by genre"}),(0,p.jsx)(l.Z,{dataLength:c.length,next:Z,hasMore:!0,loader:(0,p.jsx)("h4",{children:"Loading..."}),children:(0,p.jsx)(v.Z,{movies:c})})]})}}}]);
//# sourceMappingURL=755.9d10d34a.chunk.js.map