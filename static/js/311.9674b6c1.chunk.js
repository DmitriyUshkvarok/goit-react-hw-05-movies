"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[311],{743:function(e,t,n){n.d(t,{Z:function(){return l}});var r=n(87),a=n(689),c="MoviesList_moviesList__P6SP5",i="MoviesList_moviesItem__r+0sq",o={cardTitle:"MoviesItem_cardTitle__bY-Ko"},s=n(831),u=n(184);var h=function(e){var t=e.poster_path,n=e.title;return(0,u.jsx)(u.Fragment,{children:(0,u.jsxs)("div",{className:o.cardWrapper,children:[(0,u.jsx)("img",{src:t?"https://image.tmdb.org/t/p/w500/".concat(t):s,alt:n,width:300}),(0,u.jsx)("h3",{className:o.cardTitle,children:n||"Movie without a title"})]})})};var l=function(e){var t=e.movies,n=(0,a.TH)();return(0,u.jsx)("ul",{className:c,children:t.map((function(e){var t=e.id,a=e.poster_path,c=e.title;return(0,u.jsx)("li",{className:i,children:(0,u.jsx)(r.rU,{to:"/movies/".concat(t),state:{from:n},children:(0,u.jsx)(h,{id:t,poster_path:a,title:c})})},t)}))})}},311:function(e,t,n){n.r(t),n.d(t,{default:function(){return p}});var r=n(439),a=n(791),c=n(689),i={},o=n(596),s="Searchbar_form__D-hp5",u="Searchbar_inputSearch__xAbPo",h="Searchbar_serchBtn__JmOW6",l=n(184);var f=function(e){var t=e.onSubmit,n=(0,a.useState)(""),c=(0,r.Z)(n,2),i=c[0],f=c[1];return(0,l.jsxs)("form",{className:s,onSubmit:function(e){e.preventDefault(),i?(t(i),f("")):o.Am.error("Please, enter your name movie!")},children:[(0,l.jsx)("input",{className:u,name:"query",value:i,type:"text",autoComplete:"off",placeholder:"Enter the movie name",onChange:function(e){f(e.currentTarget.value.toLowerCase().trim())}}),(0,l.jsx)("button",{type:"submit",className:h,children:"Search"})]})},m=n(700),d=n(743),v=n(367),p=function(){var e=(0,c.s0)(),t=(0,c.TH)(),n=(0,a.useState)(null),o=(0,r.Z)(n,2),s=o[0],u=o[1],h=(0,a.useState)(""),p=(0,r.Z)(h,2),_=p[0],b=p[1];(0,a.useEffect)((function(){b(new URLSearchParams(t.search).get("query"))}),[t.search]),(0,a.useEffect)((function(){_&&v.Z.fetchSearchMovie(_).then(u).catch("error")}),[_]);return(0,l.jsx)("section",{className:i.searchbar,children:(0,l.jsxs)(m.Z,{children:[(0,l.jsx)(f,{onSubmit:function(t){t!==_&&(u(null),e("?query=".concat(t)))}}),s&&(0,l.jsx)(d.Z,{movies:s}),0===(null===s||void 0===s?void 0:s.length)&&(0,l.jsx)("p",{children:"Oops! We couldn\u2019t find anything =/. Change your request, please!"})]})})}},367:function(e,t,n){var r=n(243),a="https://api.themoviedb.org/3/",c="f27eea818d2010463700365b0c06a16e";var i={fetchTrending:function(){return r.Z.get("".concat(a,"trending/all/day?api_key=").concat(c)).then((function(e){return e.data.results}))},fetchSearchMovie:function(e){return r.Z.get("".concat(a,"search/movie?query=").concat(e,"&api_key=").concat(c)).then((function(e){return e.data.results}))},fetchMovieDetalis:function(e){return r.Z.get("".concat(a,"movie/").concat(e,"?api_key=").concat(c)).then((function(e){return e.data}))},fetchMovieCredits:function(e){return r.Z.get("".concat(a,"movie/").concat(e,"/credits?api_key=").concat(c)).then((function(e){return e.data}))},fetchMovieReview:function(e){return r.Z.get("".concat(a,"movie/").concat(e,"/reviews?api_key=").concat(c)).then((function(e){return e.data.results}))}};t.Z=i},831:function(e,t,n){e.exports=n.p+"static/media/poster.f55d248454cd0ab3bc5b.jpeg"}}]);
//# sourceMappingURL=311.9674b6c1.chunk.js.map