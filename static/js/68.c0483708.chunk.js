"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[68],{3342:function(t,e,a){a.d(e,{Z:function(){return r}});var n="ButtonBack_btnBack__tjozC",c=a(184),r=function(){return(0,c.jsx)(c.Fragment,{children:(0,c.jsx)("button",{className:n,type:"button",children:"\u2190 Go Back"})})}},7068:function(t,e,a){a.r(e),a.d(e,{default:function(){return x}});var n=a(5861),c=a(9439),r=a(4687),o=a.n(r),s=a(2791),i={search:"ActorsPage_search__ORjyk",inputActors:"ActorsPage_inputActors__fDvqV",actorList:"ActorsPage_actorList__-71G7",actorListItem:"ActorsPage_actorListItem__uEmdU",actorsName:"ActorsPage_actorsName__orZPB",actorsDepartment:"ActorsPage_actorsDepartment__K5n6X",actorsRating:"ActorsPage_actorsRating__VUZ3H",pagination:"ActorsPage_pagination__FWAiz",page:"ActorsPage_page__GvG8N",active:"ActorsPage_active__vEaUh",previous:"ActorsPage_previous__1YRPb",next:"ActorsPage_next__xkqqB",disabled:"ActorsPage_disabled__9XNEa"},u=a(5700),l=a(7367),p=a(9085),h=a(6048),d=a.n(h),g=a(1087),v=a(7689),f=a(3342),_=a(763),m=a(184);var x=function(){var t,e,a=(0,s.useState)([]),r=(0,c.Z)(a,2),h=r[0],x=r[1],y=(0,s.useState)(!0),k=(0,c.Z)(y,2),Z=k[0],b=k[1],A=(0,s.useState)(null),j=(0,c.Z)(A,2),N=j[0],P=j[1],C=(0,s.useState)(1),w=(0,c.Z)(C,2),L=w[0],S=w[1],B=(0,s.useState)(0),D=(0,c.Z)(B,2),R=D[0],M=D[1],q=(0,s.useState)(""),E=(0,c.Z)(q,2),G=E[0],U=E[1],F=(0,s.useState)([]),I=(0,c.Z)(F,2),T=I[0],z=I[1],H=null!==(t=null===(e=(0,v.TH)().state)||void 0===e?void 0:e.from)&&void 0!==t?t:"/";(0,s.useEffect)((function(){var t=function(){var t=(0,n.Z)(o().mark((function t(e,a){var n,c,r;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,l.Z.fetchActors(e,a);case 3:n=t.sent,c=n.results,r=n.total_pages,0===c.length&&p.Am.error("sorry, that's all the actors we could find"),x(c),M(r),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),P(t.t0);case 14:return t.prev=14,b(!1),t.finish(14);case 17:case"end":return t.stop()}}),t,null,[[0,11,14,17]])})));return function(e,a){return t.apply(this,arguments)}}();t(L,G)}),[L,G]),(0,s.useEffect)((function(){var t=h.filter((function(t){return t.name.toLowerCase().includes(G.toLowerCase())}));z(t)}),[h,G]);var V=(0,_.throttle)((function(t){U(t.target.value)}),300);return N?(0,m.jsx)("p",{children:N.message}):(0,m.jsxs)(u.Z,{children:[(0,m.jsx)("div",{className:i.search,children:(0,m.jsx)("input",{className:i.inputActors,type:"text",placeholder:"Search actors",value:G,onChange:V})}),(0,m.jsx)(g.rU,{to:H,children:(0,m.jsx)(f.Z,{})}),Z?(0,m.jsx)("p",{children:"Loading..."}):(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)("ul",{className:i.actorList,children:T.map((function(t,e){var a=t.profile_path,n=t.name,c=t.known_for_department,r=t.popularity,o=t.id;return(0,m.jsx)(g.rU,{to:"/actors/movies/".concat(o),children:(0,m.jsxs)("li",{className:i.actorListItem,children:[(0,m.jsx)("img",{src:a?"https://image.tmdb.org/t/p/w500/".concat(a):"https://via.placeholder.com/200x300",alt:n,width:200}),(0,m.jsx)("p",{className:i.actorsName,children:n}),(0,m.jsx)("p",{className:i.actorsDepartment,children:c}),(0,m.jsxs)("p",{className:i.actorsRating,children:[(.5*r).toFixed(0),"%"]})]},"".concat(o,"-").concat(e))},o)}))}),(0,m.jsx)(d(),{pageCount:R,pageRangeDisplayed:2,marginPagesDisplayed:1,onPageChange:function(t){var e=t.selected;S(e+1)},containerClassName:i.pagination,pageClassName:i.page,activeClassName:i.active,previousClassName:i.previous,nextClassName:i.next,disabledClassName:i.disabled,breakClassName:i.break,previousLabel:"previous",nextLabel:"next",breakLabel:"..."})]})]})}},7367:function(t,e,a){var n=a(1243),c="https://api.themoviedb.org/3/",r="f27eea818d2010463700365b0c06a16e";var o={fetchMoviesbyActors:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return n.Z.get("".concat(c,"person/").concat(t,"/movie_credits?api_key=").concat(r,"&page=").concat(e)).then((function(t){return t.data.cast}))},fetchTrending:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return n.Z.get("".concat(c,"trending/all/day?api_key=").concat(r,"&page=").concat(t)).then((function(t){return t.data.results}))},fetchSearchMovie:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return n.Z.get("".concat(c,"search/movie?query=").concat(t,"&api_key=").concat(r,"&page=").concat(e)).then((function(t){return t.data.results}))},fetchMovieDetalis:function(t){return n.Z.get("".concat(c,"movie/").concat(t,"?api_key=").concat(r)).then((function(t){return t.data}))},fetchMovieCredits:function(t){return n.Z.get("".concat(c,"movie/").concat(t,"/credits?api_key=").concat(r)).then((function(t){return t.data}))},fetchMovieReview:function(t){return n.Z.get("".concat(c,"movie/").concat(t,"/reviews?api_key=").concat(r)).then((function(t){return t.data.results}))},fetchTrailerMovies:function(t){return n.Z.get("".concat(c,"movie/").concat(t,"/videos?api_key=").concat(r)).then((function(t){return t.data.results}))},fetchAllgenres:function(){return n.Z.get("".concat(c,"/genre/movie/list?api_key=").concat(r)).then((function(t){return t.data.genres}))},fetchByGenre:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return n.Z.get("".concat(c,"/discover/movie?api_key=").concat(r,"&with_genres=").concat(t,"&page=").concat(e)).then((function(t){return t.data}))},fetchActors:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",a=e?"".concat(c,"search/person?api_key=").concat(r,"&page=").concat(t,"&query=").concat(e):"".concat(c,"person/popular?api_key=").concat(r,"&page=").concat(t);return n.Z.get(a).then((function(t){return t.data}))},fetchByYear:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,e=arguments.length>1?arguments[1]:void 0;return n.Z.get("".concat(c,"discover/movie?api_key=").concat(r,"&sort_by=popularity.desc&page=").concat(t,"&primary_release_year=").concat(e)).then((function(t){return t.data.results}))}};e.Z=o}}]);
//# sourceMappingURL=68.c0483708.chunk.js.map