"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[755],{6205:function(e,t,n){n.r(t),n.d(t,{default:function(){return x}});var r=n(3433);function a(e,t,n,r,a,c,u){try{var s=e[c](u),o=s.value}catch(i){return void n(i)}s.done?t(o):Promise.resolve(o).then(r,a)}function c(e){return function(){var t=this,n=arguments;return new Promise((function(r,c){var u=e.apply(t,n);function s(e){a(u,r,c,s,o,"next",e)}function o(e){a(u,r,c,s,o,"throw",e)}s(void 0)}))}}var u=n(9439),s=n(7757),o=n.n(s),i=n(2791),f=n(7689),h=n(7367),l=n(4771),v=n(2743),p=n(7596),d=n(184);var x=function(){var e=(0,f.UO)().id,t=(0,i.useState)([]),n=(0,u.Z)(t,2),a=n[0],s=n[1],x=(0,i.useState)(1),m=(0,u.Z)(x,2),k=m[0],w=m[1],Z=(0,i.useState)(0),g=(0,u.Z)(Z,2),y=g[0],b=g[1],j=(0,i.useCallback)(c(o().mark((function t(){var n;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,h.Z.fetchByGenre(e,k);case 3:n=t.sent,s((function(e){return[].concat((0,r.Z)(e),(0,r.Z)(n.results))})),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),p.Am.error("Failed to fetch movies.");case 10:case"end":return t.stop()}}),t,null,[[0,7]])}))),[e,k]);return(0,i.useEffect)((function(){var t=function(){var t=c(o().mark((function t(){var n;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,h.Z.fetchByGenre(e,1);case 2:n=t.sent,s(n.results),b(n.total_pages);case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();t()}),[e]),(0,i.useEffect)((function(){k>1&&j()}),[j,k]),(0,d.jsxs)("div",{children:[(0,d.jsx)("h2",{children:"Movies by genre"}),(0,d.jsx)(l.Z,{dataLength:a.length,next:function(){return w(k+1)},hasMore:a.length<y,loader:(0,d.jsx)("h4",{children:"Loading..."}),children:(0,d.jsx)(v.Z,{movies:a})})]})}}}]);
//# sourceMappingURL=755.a88be888.chunk.js.map