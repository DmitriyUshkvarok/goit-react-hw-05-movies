{"version":3,"file":"static/js/992.24ce4808.chunk.js","mappings":"4MACA,GAAgB,QAAU,8BAA8B,YAAc,kCAAkC,eAAiB,qCAAqC,WAAa,iCAAiC,QAAU,8BAA8B,SAAW,+BAA+B,UAAY,gCAAgC,aAAe,mCAAmC,cAAgB,oCAAoC,SAAW,+BAA+B,iBAAmB,uCAAuC,UAAY,gCAAgC,WAAa,iCAAiC,WAAa,iCAAiC,KAAO,2BAA2B,OAAS,6BAA6B,cAAgB,oCAAoC,WAAa,iCAAiC,cAAgB,qC,+ECmKt1B,MA3JA,WAAyB,IAAD,IACdA,GAAYC,EAAAA,EAAAA,MAAZD,QACFE,GAAWC,EAAAA,EAAAA,MACjB,GAA0BC,EAAAA,EAAAA,UAAS,IAAnC,eAAOC,EAAP,KAAcC,EAAd,KACMC,EAAQ,oBAAGL,EAASM,aAAZ,aAAG,EAAgBC,YAAnB,QAA2B,IACzC,GAAkCL,EAAAA,EAAAA,UAAS,MAA3C,eAAOM,EAAP,KAAkBC,EAAlB,KACA,GAAgCP,EAAAA,EAAAA,WAAS,GAAzC,eAAOQ,EAAP,KAAiBC,EAAjB,MAYAC,EAAAA,EAAAA,YAAU,WACRC,EAAAA,EAAAA,kBACqBf,GAClBgB,MAAK,SAAAC,GACJX,EAASW,EACV,IACAC,MAAM,QACV,GAAE,CAAClB,KAEJc,EAAAA,EAAAA,YAAU,WAGR,OAFAK,OAAOC,iBAAiB,UAAWC,GAE5B,WACLF,OAAOG,oBAAoB,UAAWD,EACvC,CACF,IAOD,IAOMA,EAAe,SAAAE,GACJ,WAAXA,EAAEC,OACJX,GAAY,GACZF,EAAa,MAEhB,EAED,OACE,8BACGN,IACC,qBAASoB,UAAWC,EAAAA,QAApB,WACE,gBACED,UAAWC,EAAAA,YACXC,IACEtB,EAAMuB,cAAN,0CACuCvB,EAAMuB,eACzCC,EAENC,IAAKzB,EAAM0B,SAEb,UAACC,EAAA,EAAD,YACE,iBAAKP,UAAWC,EAAAA,eAAhB,WACE,iBAAKD,UAAWC,EAAAA,WAAhB,WACE,UAAC,KAAD,CAAMD,UAAWC,EAAAA,QAAaO,KAAK,SAASC,GAAI3B,EAAhD,WACE,SAAC,MAAD,CAAekB,UAAWC,EAAAA,WAD5B,cAIA,eAAID,UAAWC,EAAAA,UAAf,SACGrB,EAAM0B,MAAQ1B,EAAM0B,MAAQ,2BAE/B,eAAGN,UAAWC,EAAAA,aAAd,0BACqC,GAArBrB,EAAM8B,cAAmBC,QAAQ,GADjD,QAGA,eAAIX,UAAWC,EAAAA,cAAf,uBACA,cAAGD,UAAWC,EAAAA,SAAd,SACGrB,EAAMgC,SAAWhC,EAAMgC,SAAW,8BAErC,eAAIZ,UAAWC,EAAAA,iBAAf,SACGrB,EAAMiC,QACLjC,EAAMiC,OAAOC,KAAI,gBAAGC,EAAH,EAAGA,KAAMC,EAAT,EAASA,GAAT,OACf,wBAAcD,GAALC,EADM,UAKvB,iBAAKhB,UAAWC,EAAAA,UAAhB,WACE,gBACEC,IACEtB,EAAMqC,YAAN,0CACuCrC,EAAMqC,aACzCb,EAENC,IAAKzB,EAAM0B,MAAQ1B,EAAM0B,MAAQ,wBACjCY,MAAO,IACPlB,UAAWC,EAAAA,WACXkB,MAAO,CAAEC,OAAQ,WACjBC,QA9FhB,WACE/B,EAAAA,EAAAA,mBAAiCf,GAASgB,MAAK,SAAA+B,GAC7C,IAAMC,EAAUD,EAAOE,MAAK,SAAAC,GAAK,MAAmB,YAAfA,EAAMjB,IAAV,IAC7Be,IACFrC,EAAaqC,EAAQG,KACrBtC,GAAY,GAEf,GACF,IAwFcD,GAAYF,IACX,iBAAKe,UAAWC,EAAAA,cAAmBoB,QAjE7B,SAAAvB,GAChBA,EAAE6B,gBAAkB7B,EAAE8B,SACxBxC,GAAY,GACZF,EAAa,MAEhB,EA4De,WACE,SAAC,MAAD,CACEc,UAAWC,EAAAA,cACXoB,QAzEpB,WACEjC,GAAY,GACZF,EAAa,KACd,KAyEiB,SAAC,IAAD,CACEc,UAAWC,EAAAA,WACX4B,QAAS5C,EACT6C,KAAM,CACJZ,MAAO,OACPa,OAAQ,OACRC,WAAY,CACVC,SAAU,EACVC,SAAU,EACVC,eAAgB,EAChBC,GAAI,EACJC,eAAgB,EAChBC,eAAgB,EAChBC,IAAK,EACLC,SAAU,GAEZC,OAAQ,qCAOpB,gBAAIzC,UAAWC,EAAAA,WAAf,WACE,eAAID,UAAWC,EAAAA,eAAf,UACE,SAAC,KAAD,CAAMQ,GAAG,OAAO1B,MAAON,EAASM,MAAOiB,UAAWC,EAAAA,KAAlD,qBAKF,eAAID,UAAWC,EAAAA,eAAf,UACE,SAAC,KAAD,CAAMQ,GAAG,SAAS1B,MAAON,EAASM,MAAOiB,UAAWC,EAAAA,OAApD,0BAKJ,SAAC,KAAD,WAMX,C,qCCjKKyC,EAAG,gCACHhB,EAAM,mCAqDZ,IAAMpC,EAAgB,CACpBqD,cApDF,WAAkC,IAAXC,EAAU,uDAAH,EAC5B,OAAOC,EAAAA,EAAAA,IAAA,UACGH,EADH,oCACkChB,EADlC,iBAC8CkB,IAClDrD,MAAK,SAAAuD,GAAQ,OAAIA,EAAStD,KAAKuD,OAAlB,GACjB,EAiDCC,iBA/CF,SAA0BC,GAAkB,IAAXL,EAAU,uDAAH,EACtC,OAAOC,EAAAA,EAAAA,IAAA,UACGH,EADH,8BAC4BO,EAD5B,oBAC6CvB,EAD7C,iBACyDkB,IAC7DrD,MAAK,SAAAuD,GAAQ,OAAIA,EAAStD,KAAKuD,OAAlB,GACjB,EA4CCG,kBA1CF,SAA2BlC,GACzB,OAAO6B,EAAAA,EAAAA,IAAA,UACGH,EADH,iBACe1B,EADf,oBAC6BU,IACjCnC,MAAK,SAAAuD,GAAQ,OAAIA,EAAStD,IAAb,GACjB,EAuCC2D,kBArCF,SAA2BnC,GACzB,OAAO6B,EAAAA,EAAAA,IAAA,UACGH,EADH,iBACe1B,EADf,4BACqCU,IACzCnC,MAAK,SAAAuD,GAAQ,OAAIA,EAAStD,IAAb,GACjB,EAkCC4D,iBAhCF,SAA0BpC,GACxB,OAAO6B,EAAAA,EAAAA,IAAA,UACGH,EADH,iBACe1B,EADf,4BACqCU,IACzCnC,MAAK,SAAAuD,GAAQ,OAAIA,EAAStD,KAAKuD,OAAlB,GACjB,EA6BCM,mBA3BF,SAA4B9E,GAC1B,OAAOsE,EAAAA,EAAAA,IAAA,UACGH,EADH,iBACenE,EADf,2BACyCmD,IAC7CnC,MAAK,SAAAuD,GAAQ,OAAIA,EAAStD,KAAKuD,OAAlB,IACbtD,MAAM6D,KAAKC,QACf,EAuBCC,eArBF,WACE,OAAOX,EAAAA,EAAAA,IAAA,UACGH,EADH,qCACmChB,IACvCnC,MAAK,SAAAuD,GAAQ,OAAIA,EAAStD,KAAKqB,MAAlB,IACbpB,MAAM6D,KAAKC,QACf,EAiBCE,aAfF,SAAsBzC,EAAI4B,GACxB,OAAOC,EAAAA,EAAAA,IAAA,UACGH,EADH,mCACiChB,EADjC,wBACoDV,EADpD,iBAC+D4B,IACnErD,MAAK,SAAAuD,GAAQ,OAAIA,EAAStD,IAAb,IACbC,MAAM6D,KAAKC,QACf,GAaD,K","sources":["webpack://react-homework-template/./src/pages/MovieDetalisPage/MovieDetalis.module.css?6120","pages/MovieDetalisPage/MovieDetalisPage.jsx","service/kino-api.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"detalis\":\"MovieDetalis_detalis__UlcmQ\",\"posrerMovie\":\"MovieDetalis_posrerMovie__VIU-u\",\"detalisWrapper\":\"MovieDetalis_detalisWrapper__Ap-mN\",\"columnInfo\":\"MovieDetalis_columnInfo__KSsuK\",\"btnBack\":\"MovieDetalis_btnBack__knIVC\",\"iconBack\":\"MovieDetalis_iconBack__4gnQx\",\"infoTitle\":\"MovieDetalis_infoTitle__V6MOk\",\"scoreDetalis\":\"MovieDetalis_scoreDetalis__wswZn\",\"overviewTitle\":\"MovieDetalis_overviewTitle__-X5em\",\"overview\":\"MovieDetalis_overview__OZ4Y2\",\"ganreListDetails\":\"MovieDetalis_ganreListDetails__2xy5E\",\"columnImg\":\"MovieDetalis_columnImg__rXv+c\",\"detalisImg\":\"MovieDetalis_detalisImg__3LoFp\",\"reviewList\":\"MovieDetalis_reviewList__5y-3B\",\"cast\":\"MovieDetalis_cast__cUluE\",\"review\":\"MovieDetalis_review__gmdkb\",\"videoBackdrop\":\"MovieDetalis_videoBackdrop__VDDyM\",\"videoModal\":\"MovieDetalis_videoModal__nUs6R\",\"iconBackModal\":\"MovieDetalis_iconBackModal__lydSk\"};","import { GiReturnArrow } from 'react-icons/gi';\nimport css from './MovieDetalis.module.css';\nimport Container from 'components/Container/Container';\nimport { useParams, useLocation, Link, Outlet } from 'react-router-dom';\nimport { useState, useEffect } from 'react';\nimport apiTheMovieDB from 'service/kino-api';\nimport posterimg from '../../images/poster.jpeg';\nimport YouTube from 'react-youtube';\n\nfunction MovieDetalis() {\n  const { movieId } = useParams();\n  const location = useLocation();\n  const [movie, setMovie] = useState([]);\n  const backLink = location.state?.from ?? '/';\n  const [trailerId, setTrailerId] = useState(null);\n  const [urlModal, setUrlModal] = useState(false);\n\n  function handleFetchTrailer() {\n    apiTheMovieDB.fetchTrailerMovies(movieId).then(videos => {\n      const trailer = videos.find(video => video.type === 'Trailer');\n      if (trailer) {\n        setTrailerId(trailer.key);\n        setUrlModal(true);\n      }\n    });\n  }\n\n  useEffect(() => {\n    apiTheMovieDB\n      .fetchMovieDetalis(movieId)\n      .then(data => {\n        setMovie(data);\n      })\n      .catch('error');\n  }, [movieId]);\n\n  useEffect(() => {\n    window.addEventListener('keydown', clickKeyDown);\n\n    return () => {\n      window.removeEventListener('keydown', clickKeyDown);\n    };\n  });\n\n  function closeModal() {\n    setUrlModal(false);\n    setTrailerId(null);\n  }\n\n  const clickBackdrop = e => {\n    if (e.currentTarget === e.target) {\n      setUrlModal(false);\n      setTrailerId(null);\n    }\n  };\n\n  const clickKeyDown = e => {\n    if (e.code === 'Escape') {\n      setUrlModal(false);\n      setTrailerId(null);\n    }\n  };\n\n  return (\n    <>\n      {movie && (\n        <section className={css.detalis}>\n          <img\n            className={css.posrerMovie}\n            src={\n              movie.backdrop_path\n                ? `https://image.tmdb.org/t/p/w500/${movie.backdrop_path}`\n                : posterimg\n            }\n            alt={movie.title}\n          />\n          <Container>\n            <div className={css.detalisWrapper}>\n              <div className={css.columnInfo}>\n                <Link className={css.btnBack} type=\"button\" to={backLink}>\n                  <GiReturnArrow className={css.iconBack} />\n                  Go Back\n                </Link>\n                <h2 className={css.infoTitle}>\n                  {movie.title ? movie.title : 'Movie without a title'}\n                </h2>\n                <p className={css.scoreDetalis}>\n                  User score: {(movie.vote_average * 10).toFixed(0)}%\n                </p>\n                <h3 className={css.overviewTitle}>Overview</h3>\n                <p className={css.overview}>\n                  {movie.overview ? movie.overview : 'Movie without a overview'}\n                </p>\n                <ul className={css.ganreListDetails}>\n                  {movie.genres &&\n                    movie.genres.map(({ name, id }) => (\n                      <li key={id}>{name}</li>\n                    ))}\n                </ul>\n              </div>\n              <div className={css.columnImg}>\n                <img\n                  src={\n                    movie.poster_path\n                      ? `https://image.tmdb.org/t/p/w500/${movie.poster_path}`\n                      : posterimg\n                  }\n                  alt={movie.title ? movie.title : 'Movie without a title'}\n                  width={300}\n                  className={css.detalisImg}\n                  style={{ cursor: 'pointer' }}\n                  onClick={handleFetchTrailer}\n                />\n                {urlModal && trailerId && (\n                  <div className={css.videoBackdrop} onClick={clickBackdrop}>\n                    <GiReturnArrow\n                      className={css.iconBackModal}\n                      onClick={closeModal}\n                    />\n\n                    <YouTube\n                      className={css.videoModal}\n                      videoId={trailerId}\n                      opts={{\n                        width: '100%',\n                        height: '100%',\n                        playerVars: {\n                          autoplay: 1,\n                          controls: 0,\n                          cc_load_policy: 0,\n                          fs: 0,\n                          iv_load_policy: 0,\n                          modestbranding: 0,\n                          rel: 0,\n                          showinfo: 0,\n                        },\n                        origin: 'http://localhost:3000',\n                      }}\n                    />\n                  </div>\n                )}\n              </div>\n            </div>\n            <ul className={css.reviewList}>\n              <li className={css.reviewiLstItem}>\n                <Link to=\"cast\" state={location.state} className={css.cast}>\n                  Cast\n                </Link>\n              </li>\n\n              <li className={css.reviewiLstItem}>\n                <Link to=\"review\" state={location.state} className={css.review}>\n                  Rewiew\n                </Link>\n              </li>\n            </ul>\n            <Outlet />\n          </Container>\n        </section>\n      )}\n    </>\n  );\n}\n\nexport default MovieDetalis;\n","import axios from 'axios';\nconst URL = `https://api.themoviedb.org/3/`;\nconst key = 'f27eea818d2010463700365b0c06a16e';\n\nfunction fetchTrending(page = 1) {\n  return axios\n    .get(`${URL}trending/all/day?api_key=${key}&page=${page}`)\n    .then(response => response.data.results);\n}\n\nfunction fetchSearchMovie(query, page = 1) {\n  return axios\n    .get(`${URL}search/movie?query=${query}&api_key=${key}&page=${page}`)\n    .then(response => response.data.results);\n}\n\nfunction fetchMovieDetalis(id) {\n  return axios\n    .get(`${URL}movie/${id}?api_key=${key}`)\n    .then(response => response.data);\n}\n\nfunction fetchMovieCredits(id) {\n  return axios\n    .get(`${URL}movie/${id}/credits?api_key=${key}`)\n    .then(response => response.data);\n}\n\nfunction fetchMovieReview(id) {\n  return axios\n    .get(`${URL}movie/${id}/reviews?api_key=${key}`)\n    .then(response => response.data.results);\n}\n\nfunction fetchTrailerMovies(movieId) {\n  return axios\n    .get(`${URL}movie/${movieId}/videos?api_key=${key}`)\n    .then(response => response.data.results)\n    .catch(this.onError);\n}\n\nfunction fetchAllgenres() {\n  return axios\n    .get(`${URL}/genre/movie/list?api_key=${key}`)\n    .then(response => response.data.genres)\n    .catch(this.onError);\n}\n\nfunction fetchByGenre(id, page) {\n  return axios\n    .get(`${URL}/discover/movie?api_key=${key}&with_genres=${id}&page=${page}`)\n    .then(response => response.data)\n    .catch(this.onError);\n}\n\nconst apiTheMovieDB = {\n  fetchTrending,\n  fetchSearchMovie,\n  fetchMovieDetalis,\n  fetchMovieCredits,\n  fetchMovieReview,\n  fetchTrailerMovies,\n  fetchAllgenres,\n  fetchByGenre,\n};\n\nexport default apiTheMovieDB;\n"],"names":["movieId","useParams","location","useLocation","useState","movie","setMovie","backLink","state","from","trailerId","setTrailerId","urlModal","setUrlModal","useEffect","apiTheMovieDB","then","data","catch","window","addEventListener","clickKeyDown","removeEventListener","e","code","className","css","src","backdrop_path","posterimg","alt","title","Container","type","to","vote_average","toFixed","overview","genres","map","name","id","poster_path","width","style","cursor","onClick","videos","trailer","find","video","key","currentTarget","target","videoId","opts","height","playerVars","autoplay","controls","cc_load_policy","fs","iv_load_policy","modestbranding","rel","showinfo","origin","URL","fetchTrending","page","axios","response","results","fetchSearchMovie","query","fetchMovieDetalis","fetchMovieCredits","fetchMovieReview","fetchTrailerMovies","this","onError","fetchAllgenres","fetchByGenre"],"sourceRoot":""}