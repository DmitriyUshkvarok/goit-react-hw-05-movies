{"version":3,"file":"static/js/311.9674b6c1.chunk.js","mappings":"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","sources":["webpack://react-homework-template/./src/components/MoviesList/MoviesList.module.css?de3d","webpack://react-homework-template/./src/components/MoviesItem/MoviesItem.module.css?58c2","components/MoviesItem/MoviesItem.jsx","components/MoviesList/MoviesList.jsx","pages/MoviesPage/MoviePage.module.css","webpack://react-homework-template/./src/components/Searchbar/Searchbar.module.css?8d9e","components/Searchbar/Searchbar.jsx","pages/MoviesPage/MoviePage.jsx","service/kino-api.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"moviesList\":\"MoviesList_moviesList__P6SP5\",\"moviesItem\":\"MoviesList_moviesItem__r+0sq\",\"MoviesList_moviesItem\":\"MoviesList_MoviesList_moviesItem__X8web\"};","// extracted by mini-css-extract-plugin\nexport default {\"cardTitle\":\"MoviesItem_cardTitle__bY-Ko\"};","import css from './MoviesItem.module.css';\nimport posterimg from '../../images/poster.jpeg';\n\nfunction MoviesItem({ poster_path, title }) {\n  return (\n    <>\n      <div className={css.cardWrapper}>\n        <img\n          src={\n            poster_path\n              ? `https://image.tmdb.org/t/p/w500/${poster_path}`\n              : posterimg\n          }\n          alt={title}\n          width={300}\n        />\n        <h3 className={css.cardTitle}>\n          {title ? title : 'Movie without a title'}\n        </h3>\n      </div>\n    </>\n  );\n}\n\nexport default MoviesItem;\n","import PropTypes from 'prop-types';\nimport { Link, useLocation } from 'react-router-dom';\nimport css from './MoviesList.module.css';\nimport MoviesItem from 'components/MoviesItem/MoviesItem';\n\nfunction MoviesList({ movies }) {\n  const location = useLocation();\n  return (\n    <ul className={css.moviesList}>\n      {movies.map(({ id, poster_path, title }) => (\n        <li key={id} className={css.moviesItem}>\n          <Link to={`/movies/${id}`} state={{ from: location }}>\n            <MoviesItem id={id} poster_path={poster_path} title={title} />\n          </Link>\n        </li>\n      ))}\n    </ul>\n  );\n}\nexport default MoviesList;\n\nMoviesList.propTypes = {\n  movies: PropTypes.arrayOf(\n    PropTypes.shape({\n      id: PropTypes.number.isRequired,\n      poster_path: PropTypes.string,\n      title: PropTypes.string,\n    })\n  ).isRequired,\n};\n","// extracted by mini-css-extract-plugin\nexport default {};","// extracted by mini-css-extract-plugin\nexport default {\"form\":\"Searchbar_form__D-hp5\",\"inputSearch\":\"Searchbar_inputSearch__xAbPo\",\"serchBtn\":\"Searchbar_serchBtn__JmOW6\"};","import { toast } from 'react-toastify';\nimport PropTypes from 'prop-types';\nimport css from './Searchbar.module.css';\nimport { useState } from 'react';\n\nfunction Searchbar({ onSubmit }) {\n  const [query, setQuery] = useState('');\n\n  const handleQueryChange = e => {\n    setQuery(e.currentTarget.value.toLowerCase().trim());\n  };\n\n  const handleSubmit = e => {\n    e.preventDefault();\n    if (!query) {\n      toast.error('Please, enter your name movie!');\n      return;\n    }\n\n    onSubmit(query);\n    setQuery('');\n  };\n\n  return (\n    <form className={css.form} onSubmit={handleSubmit}>\n      <input\n        className={css.inputSearch}\n        name=\"query\"\n        value={query}\n        type=\"text\"\n        autoComplete=\"off\"\n        placeholder=\"Enter the movie name\"\n        onChange={handleQueryChange}\n      />\n      <button type=\"submit\" className={css.serchBtn}>\n        Search\n      </button>\n    </form>\n  );\n}\n\nexport default Searchbar;\n\nSearchbar.propTypes = {\n  onSubmit: PropTypes.func.isRequired,\n};\n","import { useState, useEffect } from 'react';\nimport { useNavigate, useLocation } from 'react-router-dom';\nimport css from './MoviePage.module.css';\nimport Searchbar from 'components/Searchbar/Searchbar';\nimport Container from 'components/Container/Container';\nimport MoviesList from 'components/MoviesList/MoviesList';\nimport apiTheMovieDB from 'service/kino-api';\n\nconst MoviePage = () => {\n  const navigate = useNavigate();\n  const location = useLocation();\n  const [movies, setMovies] = useState(null);\n  const [query, setQuery] = useState('');\n  //   const [error, setError] = useState(null);\n\n  useEffect(() => {\n    setQuery(new URLSearchParams(location.search).get('query'));\n  }, [location.search]);\n\n  useEffect(() => {\n    query &&\n      apiTheMovieDB.fetchSearchMovie(query).then(setMovies).catch('error');\n  }, [query]);\n\n  const handleFormSubmit = newQuery => {\n    if (newQuery === query) {\n      return;\n    }\n\n    setMovies(null);\n    navigate(`?query=${newQuery}`);\n  };\n\n  return (\n    <section className={css.searchbar}>\n      <Container>\n        <Searchbar onSubmit={handleFormSubmit} />\n        {movies && <MoviesList movies={movies} />}\n        {movies?.length === 0 && (\n          <p>\n            Oops! We couldnâ€™t find anything =/. Change your request, please!\n          </p>\n        )}\n      </Container>\n    </section>\n  );\n};\n\nexport default MoviePage;\n","import axios from 'axios';\nconst URL = `https://api.themoviedb.org/3/`;\nconst key = 'f27eea818d2010463700365b0c06a16e';\n\nfunction fetchTrending() {\n  return axios\n    .get(`${URL}trending/all/day?api_key=${key}`)\n    .then(response => response.data.results);\n}\n\nfunction fetchSearchMovie(query) {\n  return axios\n    .get(`${URL}search/movie?query=${query}&api_key=${key}`)\n    .then(response => response.data.results);\n}\n\nfunction fetchMovieDetalis(id) {\n  return axios\n    .get(`${URL}movie/${id}?api_key=${key}`)\n    .then(response => response.data);\n}\n\nfunction fetchMovieCredits(id) {\n  return axios\n    .get(`${URL}movie/${id}/credits?api_key=${key}`)\n    .then(response => response.data);\n}\n\nfunction fetchMovieReview(id) {\n  return axios\n    .get(`${URL}movie/${id}/reviews?api_key=${key}`)\n    .then(response => response.data.results);\n}\n\nconst apiTheMovieDB = {\n  fetchTrending,\n  fetchSearchMovie,\n  fetchMovieDetalis,\n  fetchMovieCredits,\n  fetchMovieReview,\n};\n\nexport default apiTheMovieDB;\n"],"names":["poster_path","title","className","css","src","posterimg","alt","width","movies","location","useLocation","map","id","to","state","from","onSubmit","useState","query","setQuery","e","preventDefault","toast","name","value","type","autoComplete","placeholder","onChange","currentTarget","toLowerCase","trim","navigate","useNavigate","setMovies","useEffect","URLSearchParams","search","get","apiTheMovieDB","then","catch","Container","newQuery","MoviesList","length","URL","key","fetchTrending","axios","response","data","results","fetchSearchMovie","fetchMovieDetalis","fetchMovieCredits","fetchMovieReview"],"sourceRoot":""}