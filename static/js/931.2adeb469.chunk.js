"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[931],{4537:function(e,n,t){t.r(n),t.d(n,{default:function(){return Z}});var r=t(3433),a=t(5861),c=t(9439),s=t(7757),u=t.n(s),o=t(2791),i=t(7689),f=t(7367),l=t(4771),h=t(2743),v=t(6795),d="GenrePage_genreListMoviesContainer__ymZPR",p="GenrePage_genreTitle__iYW9b",m=t(184);var Z=function(){var e=(0,i.UO)().id,n=(0,o.useState)([]),t=(0,c.Z)(n,2),s=t[0],Z=t[1],x=(0,o.useState)(1),_=(0,c.Z)(x,2),g=_[0],k=_[1],w=(0,o.useState)(0),y=(0,c.Z)(w,2),b=y[0],j=y[1],P=(0,o.useCallback)((0,a.Z)(u().mark((function n(){var t;return u().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,f.Z.fetchByGenre(e,g);case 3:t=n.sent,Z((function(e){return[].concat((0,r.Z)(e),(0,r.Z)(t.results))})),n.next=10;break;case 7:n.prev=7,n.t0=n.catch(0),v.Am.error("Failed to fetch movies.");case 10:case"end":return n.stop()}}),n,null,[[0,7]])}))),[e,g]);return(0,o.useEffect)((function(){var n=function(){var n=(0,a.Z)(u().mark((function n(){var t;return u().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,f.Z.fetchByGenre(e,1);case 2:t=n.sent,Z(t.results),j(t.total_pages);case 5:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();n()}),[e]),(0,o.useEffect)((function(){g>1&&P()}),[P,g]),(0,m.jsxs)("div",{className:d,children:[(0,m.jsx)("h2",{className:p,children:"Movies by genre"}),(0,m.jsx)(l.Z,{dataLength:s.length,next:function(){return k(g+1)},hasMore:s.length<b,loader:(0,m.jsx)("h4",{children:"Loading..."}),children:(0,m.jsx)(h.Z,{movies:s})})]})}},5861:function(e,n,t){function r(e,n,t,r,a,c,s){try{var u=e[c](s),o=u.value}catch(i){return void t(i)}u.done?n(o):Promise.resolve(o).then(r,a)}function a(e){return function(){var n=this,t=arguments;return new Promise((function(a,c){var s=e.apply(n,t);function u(e){r(s,a,c,u,o,"next",e)}function o(e){r(s,a,c,u,o,"throw",e)}u(void 0)}))}}t.d(n,{Z:function(){return a}})}}]);
//# sourceMappingURL=931.2adeb469.chunk.js.map