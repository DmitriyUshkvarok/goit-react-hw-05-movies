"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[68],{3342:function(e,t,a){a.d(t,{Z:function(){return r}});var n="ButtonBack_btnBack__tjozC",c=a(184),r=function(){return(0,c.jsx)(c.Fragment,{children:(0,c.jsx)("button",{className:n,type:"button",children:"\u2190 Go Back"})})}},7068:function(e,t,a){a.r(t),a.d(t,{default:function(){return x}});var n=a(5861),c=a(9439),r=a(4687),o=a.n(r),s=a(2791),i={search:"ActorsPage_search__ORjyk",inputActors:"ActorsPage_inputActors__fDvqV",actorList:"ActorsPage_actorList__-71G7",actorListItem:"ActorsPage_actorListItem__uEmdU",actorsName:"ActorsPage_actorsName__orZPB",actorsDepartment:"ActorsPage_actorsDepartment__K5n6X",actorsRating:"ActorsPage_actorsRating__VUZ3H",pagination:"ActorsPage_pagination__FWAiz",page:"ActorsPage_page__GvG8N",active:"ActorsPage_active__vEaUh",previous:"ActorsPage_previous__1YRPb",next:"ActorsPage_next__xkqqB",disabled:"ActorsPage_disabled__9XNEa"},u=a(5700),l=a(7367),p=a(9085),d=a(6048),h=a.n(d),g=a(1087),v=a(7689),f=a(3342),_=a(763),m=a(184);var x=function(){var e,t,a=(0,s.useState)([]),r=(0,c.Z)(a,2),d=r[0],x=r[1],y=(0,s.useState)(!0),k=(0,c.Z)(y,2),Z=k[0],b=k[1],A=(0,s.useState)(null),j=(0,c.Z)(A,2),N=j[0],P=j[1],C=(0,s.useState)(1),w=(0,c.Z)(C,2),L=w[0],S=w[1],B=(0,s.useState)(0),D=(0,c.Z)(B,2),R=D[0],M=D[1],q=(0,s.useState)(""),E=(0,c.Z)(q,2),G=E[0],U=E[1],F=(0,s.useState)([]),I=(0,c.Z)(F,2),T=I[0],z=I[1],H=null!==(e=null===(t=(0,v.TH)().state)||void 0===t?void 0:t.from)&&void 0!==e?e:"/";(0,s.useEffect)((function(){var e=function(){var e=(0,n.Z)(o().mark((function e(t,a){var n,c,r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,l.Z.fetchActors(t,a);case 3:n=e.sent,c=n.results,r=n.total_pages,0===c.length&&p.Am.error("sorry, that's all the actors we could find"),x(c),M(r),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),P(e.t0);case 14:return e.prev=14,b(!1),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[0,11,14,17]])})));return function(t,a){return e.apply(this,arguments)}}();e(L,G)}),[L,G]),(0,s.useEffect)((function(){var e=d.filter((function(e){return e.name.toLowerCase().includes(G.toLowerCase())}));z(e)}),[d,G]);var V=(0,_.debounce)((function(e){U(e.target.value)}),300);return N?(0,m.jsx)("p",{children:N.message}):(0,m.jsxs)(u.Z,{children:[(0,m.jsx)("div",{className:i.search,children:(0,m.jsx)("input",{className:i.inputActors,type:"text",placeholder:"Search actors",value:G,onChange:V})}),(0,m.jsx)(g.rU,{to:H,children:(0,m.jsx)(f.Z,{})}),Z?(0,m.jsx)("p",{children:"Loading..."}):(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)("ul",{className:i.actorList,children:T.map((function(e,t){var a=e.profile_path,n=e.name,c=e.known_for_department,r=e.popularity,o=e.id;return(0,m.jsx)(g.rU,{to:"/actors/movies/".concat(o),children:(0,m.jsxs)("li",{className:i.actorListItem,children:[(0,m.jsx)("img",{src:a?"https://image.tmdb.org/t/p/w500/".concat(a):"https://via.placeholder.com/200x300",alt:n,width:200}),(0,m.jsx)("p",{className:i.actorsName,children:n}),(0,m.jsx)("p",{className:i.actorsDepartment,children:c}),(0,m.jsxs)("p",{className:i.actorsRating,children:[(.5*r).toFixed(0),"%"]})]},"".concat(o,"-").concat(t))},o)}))}),(0,m.jsx)(h(),{pageCount:R,pageRangeDisplayed:2,marginPagesDisplayed:1,onPageChange:function(e){var t=e.selected;S(t+1)},containerClassName:i.pagination,pageClassName:i.page,activeClassName:i.active,previousClassName:i.previous,nextClassName:i.next,disabledClassName:i.disabled,breakClassName:i.break,previousLabel:"previous",nextLabel:"next",breakLabel:"..."})]})]})}},7367:function(e,t,a){var n=a(1243),c="https://api.themoviedb.org/3/",r="f27eea818d2010463700365b0c06a16e";var o={fetchMoviesbyActors:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return n.Z.get("".concat(c,"person/").concat(e,"/movie_credits?api_key=").concat(r,"&page=").concat(t)).then((function(e){return e.data.cast}))},fetchTrending:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return n.Z.get("".concat(c,"trending/all/day?api_key=").concat(r,"&page=").concat(e)).then((function(e){return e.data.results}))},fetchSearchMovie:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return n.Z.get("".concat(c,"search/movie?query=").concat(e,"&api_key=").concat(r,"&page=").concat(t)).then((function(e){return e.data.results}))},fetchMovieDetalis:function(e){return n.Z.get("".concat(c,"movie/").concat(e,"?api_key=").concat(r)).then((function(e){return e.data}))},fetchMovieCredits:function(e){return n.Z.get("".concat(c,"movie/").concat(e,"/credits?api_key=").concat(r)).then((function(e){return e.data}))},fetchMovieReview:function(e){return n.Z.get("".concat(c,"movie/").concat(e,"/reviews?api_key=").concat(r)).then((function(e){return e.data.results}))},fetchTrailerMovies:function(e){return n.Z.get("".concat(c,"movie/").concat(e,"/videos?api_key=").concat(r)).then((function(e){return e.data.results}))},fetchAllgenres:function(){return n.Z.get("".concat(c,"/genre/movie/list?api_key=").concat(r)).then((function(e){return e.data.genres}))},fetchByGenre:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return n.Z.get("".concat(c,"/discover/movie?api_key=").concat(r,"&with_genres=").concat(e,"&page=").concat(t)).then((function(e){return e.data}))},fetchActors:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",a=t?"".concat(c,"search/person?api_key=").concat(r,"&page=").concat(e,"&query=").concat(t):"".concat(c,"person/popular?api_key=").concat(r,"&page=").concat(e);return n.Z.get(a).then((function(e){return e.data}))},fetchByYear:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1?arguments[1]:void 0;return n.Z.get("".concat(c,"discover/movie?api_key=").concat(r,"&sort_by=popularity.desc&page=").concat(e,"&primary_release_year=").concat(t)).then((function(e){return e.data.results}))}};t.Z=o}}]);
//# sourceMappingURL=68.6e59a254.chunk.js.map