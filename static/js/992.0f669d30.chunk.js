"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[992],{2992:function(e,t,i){i.r(t),i.d(t,{default:function(){return h}});var a=i(9439),o=i(6952),n={detalisWrapper:"MovieDetalis_detalisWrapper__Ap-mN",columnInfo:"MovieDetalis_columnInfo__KSsuK",btnBack:"MovieDetalis_btnBack__knIVC",iconBack:"MovieDetalis_iconBack__4gnQx",infoTitle:"MovieDetalis_infoTitle__V6MOk",scoreDetalis:"MovieDetalis_scoreDetalis__wswZn",overviewTitle:"MovieDetalis_overviewTitle__-X5em",overview:"MovieDetalis_overview__OZ4Y2",ganreListDetails:"MovieDetalis_ganreListDetails__2xy5E",detalisImg:"MovieDetalis_detalisImg__3LoFp",reviewList:"MovieDetalis_reviewList__5y-3B",cast:"MovieDetalis_cast__cUluE",review:"MovieDetalis_review__gmdkb",videoBackdrop:"MovieDetalis_videoBackdrop__VDDyM",videoModal:"MovieDetalis_videoModal__nUs6R",iconBackModal:"MovieDetalis_iconBackModal__lydSk"},c=i(5700),s=i(1087),r=i(7689),l=i(2791),v=i(7367),d=i(9831),u=i(9686),_=i(184);var h=function(){var e,t,i=(0,r.UO)().movieId,h=(0,r.TH)(),m=(0,l.useState)([]),f=(0,a.Z)(m,2),p=f[0],w=f[1],g=null!==(e=null===(t=h.state)||void 0===t?void 0:t.from)&&void 0!==e?e:"/",k=(0,l.useState)(null),M=(0,a.Z)(k,2),x=M[0],j=M[1],D=(0,l.useState)(!1),y=(0,a.Z)(D,2),N=y[0],Z=y[1];console.log(N),(0,l.useEffect)((function(){v.Z.fetchMovieDetalis(i).then(w).catch("error")}),[i]),(0,l.useEffect)((function(){return window.addEventListener("keydown",b),function(){window.removeEventListener("keydown",b)}}));var b=function(e){"Escape"===e.code&&(Z(!1),j(null))};return(0,_.jsx)(_.Fragment,{children:p&&(0,_.jsx)("section",{className:n.detalis,children:(0,_.jsxs)(c.Z,{children:[(0,_.jsxs)("div",{className:n.detalisWrapper,children:[(0,_.jsxs)("div",{className:n.columnInfo,children:[(0,_.jsxs)(s.rU,{className:n.btnBack,type:"button",to:g,children:[(0,_.jsx)(o.lox,{className:n.iconBack}),"Go Back"]}),(0,_.jsx)("h2",{className:n.infoTitle,children:p.title?p.title:"Movie without a title"}),(0,_.jsxs)("p",{className:n.scoreDetalis,children:["User score: ",(10*p.vote_average).toFixed(0),"%"]}),(0,_.jsx)("h3",{className:n.overviewTitle,children:"Overview"}),(0,_.jsx)("p",{className:n.overview,children:p.overview?p.overview:"Movie without a overview"}),(0,_.jsx)("ul",{className:n.ganreListDetails,children:p.genres&&p.genres.map((function(e){var t=e.name,i=e.id;return(0,_.jsx)("li",{children:t},i)}))})]}),(0,_.jsxs)("div",{className:n.columnImg,children:[(0,_.jsx)("img",{src:p.poster_path?"https://image.tmdb.org/t/p/w500/".concat(p.poster_path):d,alt:p.title?p.title:"Movie without a title",width:300,className:n.detalisImg,style:{cursor:"pointer"},onClick:function(){v.Z.fetchTrailerMovies(i).then((function(e){var t=e.find((function(e){return"Trailer"===e.type}));t&&(j(t.key),Z(!0))}))}}),x&&(0,_.jsxs)("div",{className:n.videoBackdrop,onClick:function(e){e.currentTarget===e.target&&(Z(!1),j(null))},children:[(0,_.jsx)(o.lox,{className:n.iconBackModal,onClick:function(){Z(!1),j(null)}}),(0,_.jsx)(u.Z,{className:n.videoModal,videoId:x,opts:{width:"100%",height:"100%",playerVars:{autoplay:1,controls:0,cc_load_policy:0,fs:0,iv_load_policy:0,modestbranding:0,rel:0,showinfo:0},origin:"http://localhost:3000"}})]})]})]}),(0,_.jsxs)("ul",{className:n.reviewList,children:[(0,_.jsx)("li",{className:n.reviewiLstItem,children:(0,_.jsx)(s.rU,{to:"/movies/".concat(i,"/cast"),state:{from:h},className:n.cast,children:"Cast"})}),(0,_.jsx)("li",{className:n.reviewiLstItem,children:(0,_.jsx)(s.rU,{to:"/movies/".concat(i,"/review"),state:{from:h},className:n.review,children:"Rewiew"})})]}),(0,_.jsx)(r.j3,{})]})})})}},7367:function(e,t,i){var a=i(1243),o="https://api.themoviedb.org/3/",n="f27eea818d2010463700365b0c06a16e";var c={fetchTrending:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return a.Z.get("".concat(o,"trending/all/day?api_key=").concat(n,"&page=").concat(e)).then((function(e){return e.data.results}))},fetchSearchMovie:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return a.Z.get("".concat(o,"search/movie?query=").concat(e,"&api_key=").concat(n,"&page=").concat(t)).then((function(e){return e.data.results}))},fetchMovieDetalis:function(e){return a.Z.get("".concat(o,"movie/").concat(e,"?api_key=").concat(n)).then((function(e){return e.data}))},fetchMovieCredits:function(e){return a.Z.get("".concat(o,"movie/").concat(e,"/credits?api_key=").concat(n)).then((function(e){return e.data}))},fetchMovieReview:function(e){return a.Z.get("".concat(o,"movie/").concat(e,"/reviews?api_key=").concat(n)).then((function(e){return e.data.results}))},fetchTrailerMovies:function(e){return a.Z.get("".concat(o,"movie/").concat(e,"/videos?api_key=").concat(n)).then((function(e){return e.data.results})).catch(this.onError)}};t.Z=c},9831:function(e,t,i){e.exports=i.p+"static/media/poster.f55d248454cd0ab3bc5b.jpeg"}}]);
//# sourceMappingURL=992.0f669d30.chunk.js.map