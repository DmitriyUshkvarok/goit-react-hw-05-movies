"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[39],{2743:function(e,t,n){n.d(t,{Z:function(){return x}});var a=n(1087),r=n(7689),i="MoviesList_moviesList__P6SP5",c="MoviesList_moviesItem__r+0sq",s="MoviesItem_cardWrapper__mxmjM",o="MoviesItem_imgWrapper__TWN0D",l="MoviesItem_moviesImg__MqMs7",m="MoviesItem_cardTitle__bY-Ko",u="MoviesItem_ratingStarsContainer__XGfJ5",d="MoviesItem_goldStar__duxiK",_="MoviesItem_grayStar__7ijiP",h="MoviesItem_ratingText__Hzr+S",v="MoviesItem_ratingNumber__6ftL3",p=n(9831),f=n(184);var g=function(e){var t=e.poster_path,n=e.title,a=e.vote_average,r=10*a,i=Math.floor(r/10),c=Array.from({length:10},(function(e,t){return t<i?(0,f.jsx)("span",{className:d,children:"\u2605"},"star-".concat(t)):(0,f.jsx)("span",{className:_,children:"\u2605"},"star-".concat(t))}));return(0,f.jsx)(f.Fragment,{children:(0,f.jsxs)("div",{className:s,children:[(0,f.jsx)("div",{className:o,children:(0,f.jsx)("img",{className:l,src:t?"https://image.tmdb.org/t/p/w500/".concat(t):p,alt:n,width:150})}),(0,f.jsx)("h3",{className:m,children:n||"Movie without a title"}),(0,f.jsxs)("div",{className:u,children:[(0,f.jsx)("p",{className:h,children:a?c:"N/A"}),(0,f.jsx)("span",{className:v,children:a?a.toFixed(1):"N/A"})]})]})})};var x=function(e){var t=e.movies,n=(0,r.TH)();return(0,f.jsx)("ul",{className:i,children:t.map((function(e,t){var r=e.id,i=e.poster_path,s=e.title,o=e.vote_average;return(0,f.jsx)("li",{className:c,children:(0,f.jsx)(a.rU,{to:"/movies/".concat(r),state:{from:n},children:(0,f.jsx)(g,{id:r,poster_path:i,title:s,vote_average:o},r)})},"".concat(r,"-").concat(t))}))})}},3039:function(e,t,n){n.r(t),n.d(t,{default:function(){return C}});var a=n(3433),r=n(9439),i={trandingMovies:"HomePage_trandingMovies__2UC1J",mainWrapper:"HomePage_mainWrapper__MEgZc",mainFormColumn:"HomePage_mainFormColumn__3l33z"},c=n(5700),s=n(2743),o=n(2791),l=n(4771),m=n(7367),u=n(6795),d=n(1087),_=n(7689),h="GanreList_ganreList__Ukkui",v="GanreList_ganreListItem__oINk6",p=n(184);var f=function(e){var t=e.genres,n=(0,_.TH)();return(0,p.jsx)("ul",{className:h,children:t.map((function(e){var t=e.id,a=e.name;return(0,p.jsx)(d.rU,{to:"genre/".concat(t),state:{from:n},children:(0,p.jsx)("li",{className:v,children:(0,p.jsx)("p",{children:a})})},t)}))})},g="MainForm_formRegistration__LgtCu",x="MainForm_formRegistrationTitle__bz5xA",j="MainForm_feedbackFormGroup__N8QaR",M="MainForm_inputName__CGIgD",N="MainForm_inputEmail__M08Fi",Z="MainForm_inputPassword__zd6iM",y="MainForm_btnwrapper__rtn7+",b="MainForm_btnRegister__mOAX7",k="MainForm_btnLogIn__7ulop",w=n(5705),F=n(6727),I={name:"",email:"",password:""},L=F.Ry().shape({name:F.Z_().min(7).max(20).required(),email:F.Z_().required(),password:F.Z_().min(10).max(20).required()});var S=function(){return(0,p.jsx)(w.J9,{initialValues:I,validationSchema:L,onSubmit:function(e,t){var n=t.resetForm;console.log(e),n()},children:(0,p.jsxs)(w.l0,{className:g,children:[(0,p.jsx)("h2",{className:x,children:"Form Registration"}),(0,p.jsxs)("div",{className:j,children:[(0,p.jsx)(w.gN,{className:M,type:"text",name:"name",placeholder:"name"}),(0,p.jsx)(w.Bc,{name:"name"})]}),(0,p.jsxs)("div",{className:j,children:[(0,p.jsx)(w.gN,{className:N,type:"email",name:"email",placeholder:"email"}),(0,p.jsx)(w.Bc,{name:"email"})]}),(0,p.jsxs)("div",{className:j,children:[(0,p.jsx)(w.gN,{className:Z,type:"password",name:"password",placeholder:"password"}),(0,p.jsx)(w.Bc,{name:"password"})]}),(0,p.jsxs)("div",{className:y,children:[(0,p.jsx)("button",{className:b,type:"submit",children:"Registration"}),(0,p.jsx)("button",{className:k,type:"submit",children:"Log In"})]})]})})};var C=function(){var e=(0,o.useState)([]),t=(0,r.Z)(e,2),n=t[0],d=t[1],_=(0,o.useState)(1),h=(0,r.Z)(_,2),v=h[0],g=h[1],x=(0,o.useState)(!1),j=(0,r.Z)(x,2),M=j[0],N=j[1],Z=(0,o.useState)([]),y=(0,r.Z)(Z,2),b=y[0],k=y[1],w=(0,o.useState)(!1),F=(0,r.Z)(w,2),I=F[0],L=F[1],C=(0,o.useCallback)((function(e){N(!0),m.Z.fetchTrending(e).then((function(t){N(!1),0===t.length&&u.Am.error("sorry, that's all the movies we could find"),d((function(e){return[].concat((0,a.Z)(e),(0,a.Z)(t))})),g(e)})).catch((function(e){N(!1)}))}),[]);return(0,o.useEffect)((function(){return L(!0),function(){return L(!1)}}),[]),(0,o.useEffect)((function(){I&&0===n.length&&C(v)}),[v,C,n.length,I]),(0,o.useEffect)((function(){m.Z.fetchAllgenres().then((function(e){k(e)})).catch("error")}),[]),(0,p.jsxs)(c.Z,{children:[(0,p.jsx)(f,{genres:b}),(0,p.jsx)("section",{className:i.trandingMovies,children:(0,p.jsxs)("div",{className:i.mainWrapper,children:[(0,p.jsx)("div",{className:i.mainMoviesColumn,children:(0,p.jsx)(l.Z,{dataLength:n.length,next:function(){return C(v+1)},hasMore:!M,loader:(0,p.jsx)("p",{children:"Loading..."}),children:(0,p.jsx)(s.Z,{movies:n})})}),(0,p.jsx)("div",{className:i.mainFormColumn,children:(0,p.jsx)(S,{})})]})})]})}},7367:function(e,t,n){var a=n(1243),r="https://api.themoviedb.org/3/",i="f27eea818d2010463700365b0c06a16e";var c={fetchTrending:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return a.Z.get("".concat(r,"trending/all/day?api_key=").concat(i,"&page=").concat(e)).then((function(e){return e.data.results}))},fetchSearchMovie:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return a.Z.get("".concat(r,"search/movie?query=").concat(e,"&api_key=").concat(i,"&page=").concat(t)).then((function(e){return e.data.results}))},fetchMovieDetalis:function(e){return a.Z.get("".concat(r,"movie/").concat(e,"?api_key=").concat(i)).then((function(e){return e.data}))},fetchMovieCredits:function(e){return a.Z.get("".concat(r,"movie/").concat(e,"/credits?api_key=").concat(i)).then((function(e){return e.data}))},fetchMovieReview:function(e){return a.Z.get("".concat(r,"movie/").concat(e,"/reviews?api_key=").concat(i)).then((function(e){return e.data.results}))},fetchTrailerMovies:function(e){return a.Z.get("".concat(r,"movie/").concat(e,"/videos?api_key=").concat(i)).then((function(e){return e.data.results}))},fetchAllgenres:function(){return a.Z.get("".concat(r,"/genre/movie/list?api_key=").concat(i)).then((function(e){return e.data.genres}))},fetchByGenre:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return a.Z.get("".concat(r,"/discover/movie?api_key=").concat(i,"&with_genres=").concat(e,"&page=").concat(t)).then((function(e){return e.data}))},fetchActors:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return a.Z.get("".concat(r,"person/popular?api_key=").concat(i,"&page=").concat(e)).then((function(e){return e.data.results}))},fetchByYear:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1?arguments[1]:void 0;return a.Z.get("".concat(r,"discover/movie?api_key=").concat(i,"&sort_by=popularity.desc&page=").concat(e,"&primary_release_year=").concat(t)).then((function(e){return e.data.results}))}};t.Z=c},9831:function(e,t,n){e.exports=n.p+"static/media/poster.f55d248454cd0ab3bc5b.jpeg"}}]);
//# sourceMappingURL=39.7919691c.chunk.js.map