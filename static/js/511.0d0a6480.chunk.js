"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[511],{311:function(e,t,n){n.r(t),n.d(t,{default:function(){return b}});var r=n(433),a=n(439),c=n(791),o=n(689),u={},s=n(596),i="Searchbar_form__D-hp5",h="Searchbar_inputSearch__xAbPo",l="Searchbar_serchBtn__JmOW6",f=n(184);var m=function(e){var t=e.onSubmit,n=(0,c.useState)(""),r=(0,a.Z)(n,2),o=r[0],u=r[1];return(0,f.jsxs)("form",{className:i,onSubmit:function(e){e.preventDefault(),o?(t(o),u("")):s.Am.error("Please, enter your name movie!")},children:[(0,f.jsx)("input",{className:h,name:"query",value:o,type:"text",autoComplete:"off",placeholder:"Enter the movie name",onChange:function(e){u(e.currentTarget.value.toLowerCase().trim())}}),(0,f.jsx)("button",{type:"submit",className:l,children:"Search"})]})},d=n(700),p=n(743),S=n(771),v=n(367),b=function(){var e=(0,o.s0)(),t=(0,o.TH)(),n=(0,c.useState)([]),i=(0,a.Z)(n,2),h=i[0],l=i[1],b=(0,c.useState)(""),x=(0,a.Z)(b,2),_=x[0],Z=x[1],g=(0,c.useState)(1),j=(0,a.Z)(g,2),y=j[0],k=j[1],w=(0,c.useState)(!0),C=(0,a.Z)(w,2),q=C[0],L=C[1],N=(0,c.useCallback)((function(e){v.Z.fetchSearchMovie(_,e).then((function(e){0===e.length&&(s.Am.error("sorry ,thats all the movies we cold find"),L(!1)),l((function(t){return[].concat((0,r.Z)(t),(0,r.Z)(e))})),k((function(e){return e+1}))})).catch((function(e){console.error(e)}))}),[_]);(0,c.useEffect)((function(){Z(new URLSearchParams(t.search).get("query"))}),[t.search]),(0,c.useEffect)((function(){_&&N(1)}),[N,_]);return(0,f.jsx)("section",{className:u.searchbar,children:(0,f.jsxs)(d.Z,{children:[(0,f.jsx)(m,{onSubmit:function(t){t!==_&&(l([]),e("?query=".concat(t)))}}),h&&(0,f.jsx)(S.Z,{dataLength:h.length,next:function(){N(y)},hasMore:q,loader:(0,f.jsx)("p",{children:"Loading..."}),children:(0,f.jsx)(p.Z,{movies:h})}),0===(null===h||void 0===h?void 0:h.length)&&(0,f.jsx)("p",{children:"Oops! We couldn\u2019t find anything =/. Change your request, please!"})]})})}}}]);
//# sourceMappingURL=511.0d0a6480.chunk.js.map