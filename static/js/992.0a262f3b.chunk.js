"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[992],{3342:function(e,t,i){i.d(t,{Z:function(){return o}});var a="ButtonBack_btnBack__tjozC",n=i(184),o=function(){return(0,n.jsx)(n.Fragment,{children:(0,n.jsx)("button",{className:a,type:"button",children:"\u2190 Go Back"})})}},2992:function(e,t,i){i.r(t),i.d(t,{default:function(){return f}});var a=i(9439),n=i(8014),o={detalis:"MovieDetalis_detalis__UlcmQ",posterMovie:"MovieDetalis_posterMovie__M4a7c",detalisWrapper:"MovieDetalis_detalisWrapper__Ap-mN",columnInfo:"MovieDetalis_columnInfo__KSsuK",btnBackDetalisWrapper:"MovieDetalis_btnBackDetalisWrapper__jOg0F",btnBack:"MovieDetalis_btnBack__knIVC",iconBack:"MovieDetalis_iconBack__4gnQx",infoTitle:"MovieDetalis_infoTitle__V6MOk",scoreDetalis:"MovieDetalis_scoreDetalis__wswZn",overviewTitle:"MovieDetalis_overviewTitle__-X5em",overview:"MovieDetalis_overview__OZ4Y2",ganreListDetails:"MovieDetalis_ganreListDetails__2xy5E",columnImg:"MovieDetalis_columnImg__rXv+c",detalisImg:"MovieDetalis_detalisImg__3LoFp",reviewList:"MovieDetalis_reviewList__5y-3B",cast:"MovieDetalis_cast__cUluE",review:"MovieDetalis_review__gmdkb",videoBackdrop:"MovieDetalis_videoBackdrop__VDDyM",videoModal:"MovieDetalis_videoModal__nUs6R",iconBackModal:"MovieDetalis_iconBackModal__lydSk"},c=i(9085),r=i(5700),s=i(1087),l=i(7689),v=i(2791),d=i(7367),u=i(9831),_=i(9686),h=i(3342),p=i(184);var f=function(){var e,t,i=(0,l.UO)().movieId,f=(0,l.TH)(),m=(0,v.useState)([]),g=(0,a.Z)(m,2),k=g[0],w=g[1],M=(0,v.useState)(null),y=(0,a.Z)(M,2),x=y[0],j=y[1],D=(0,v.useState)(!1),b=(0,a.Z)(D,2),N=b[0],Z=b[1],B=null!==(e=null===(t=f.state)||void 0===t?void 0:t.from)&&void 0!==e?e:"/";function I(){Z(!1),j(null),document.body.style.overflow="auto"}(0,v.useEffect)((function(){d.Z.fetchMovieDetalis(i).then((function(e){w(e)})).catch("error")}),[i]),(0,v.useEffect)((function(){return window.addEventListener("keydown",T),function(){window.removeEventListener("keydown",T)}}));var T=function(e){"Escape"===e.code&&I()};return(0,p.jsx)(p.Fragment,{children:k&&(0,p.jsxs)("section",{className:o.detalis,children:[(0,p.jsx)("img",{className:o.posterMovie,src:k.backdrop_path?"https://image.tmdb.org/t/p/w500/".concat(k.backdrop_path):u,alt:k.title}),(0,p.jsxs)(r.Z,{children:[(0,p.jsx)("div",{className:o.btnBackDetalisWrapper,children:(0,p.jsx)(s.rU,{to:B,children:(0,p.jsx)(h.Z,{})})}),(0,p.jsxs)("div",{className:o.detalisWrapper,children:[(0,p.jsxs)("div",{className:o.columnInfo,children:[(0,p.jsx)("h2",{className:o.infoTitle,children:k.title?k.title:"Movie without a title"}),(0,p.jsxs)("p",{className:o.scoreDetalis,children:["User score: ",(10*k.vote_average).toFixed(0),"%"]}),(0,p.jsx)("h3",{className:o.overviewTitle,children:"Overview"}),(0,p.jsx)("p",{className:o.overview,children:k.overview?k.overview:"Movie without a overview"}),(0,p.jsx)("ul",{className:o.ganreListDetails,children:k.genres&&k.genres.map((function(e){var t=e.name,i=e.id;return(0,p.jsx)("li",{children:t},i)}))})]}),(0,p.jsxs)("div",{className:o.columnImg,children:[(0,p.jsx)("img",{src:k.poster_path?"https://image.tmdb.org/t/p/w500/".concat(k.poster_path):u,alt:k.title?k.title:"Movie without a title",width:300,className:o.detalisImg,style:{cursor:"pointer"},onClick:function(){d.Z.fetchTrailerMovies(i).then((function(e){var t=e.find((function(e){return"Trailer"===e.type}));t?(j(t.key),Z(!0),document.body.style.overflow="hidden"):(Z(!1),c.Am.error("No trailer available for this movie."))}))}}),N&&x?(0,p.jsxs)("div",{className:o.videoBackdrop,onClick:function(e){e.currentTarget===e.target&&I()},children:[(0,p.jsx)(n.lox,{className:o.iconBackModal,onClick:I}),(0,p.jsx)(_.Z,{className:o.videoModal,videoId:x,opts:{width:"100%",height:"100%",playerVars:{autoplay:1,controls:0,cc_load_policy:0,fs:0,iv_load_policy:0,modestbranding:0,rel:0,showinfo:0},origin:"http://localhost:3000"}})]}):(0,p.jsx)("p",{children:"No trailer available for this movie."})]})]}),(0,p.jsxs)("ul",{className:o.reviewList,children:[(0,p.jsx)("li",{className:o.reviewiLstItem,children:(0,p.jsx)(s.rU,{to:"cast",state:f.state,className:o.cast,children:"Cast"})}),(0,p.jsx)("li",{className:o.reviewiLstItem,children:(0,p.jsx)(s.rU,{to:"review",state:f.state,className:o.review,children:"Rewiew"})})]}),(0,p.jsx)(v.Suspense,{children:(0,p.jsx)(l.j3,{})})]})]})})}},7367:function(e,t,i){var a=i(1243),n="https://api.themoviedb.org/3/",o="f27eea818d2010463700365b0c06a16e";var c={fetchMoviesbyActors:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return a.Z.get("".concat(n,"person/").concat(e,"/movie_credits?api_key=").concat(o,"&page=").concat(t)).then((function(e){return e.data.cast}))},fetchTrending:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return a.Z.get("".concat(n,"trending/all/day?api_key=").concat(o,"&page=").concat(e)).then((function(e){return e.data.results}))},fetchSearchMovie:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return a.Z.get("".concat(n,"search/movie?query=").concat(e,"&api_key=").concat(o,"&page=").concat(t)).then((function(e){return e.data.results}))},fetchMovieDetalis:function(e){return a.Z.get("".concat(n,"movie/").concat(e,"?api_key=").concat(o)).then((function(e){return e.data}))},fetchMovieCredits:function(e){return a.Z.get("".concat(n,"movie/").concat(e,"/credits?api_key=").concat(o)).then((function(e){return e.data}))},fetchMovieReview:function(e){return a.Z.get("".concat(n,"movie/").concat(e,"/reviews?api_key=").concat(o)).then((function(e){return e.data.results}))},fetchTrailerMovies:function(e){return a.Z.get("".concat(n,"movie/").concat(e,"/videos?api_key=").concat(o)).then((function(e){return e.data.results}))},fetchAllgenres:function(){return a.Z.get("".concat(n,"/genre/movie/list?api_key=").concat(o)).then((function(e){return e.data.genres}))},fetchByGenre:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return a.Z.get("".concat(n,"/discover/movie?api_key=").concat(o,"&with_genres=").concat(e,"&page=").concat(t)).then((function(e){return e.data}))},fetchActors:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",i=t?"".concat(n,"search/person?api_key=").concat(o,"&page=").concat(e,"&query=").concat(t):"".concat(n,"person/popular?api_key=").concat(o,"&page=").concat(e);return a.Z.get(i).then((function(e){return e.data}))},fetchByYear:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1?arguments[1]:void 0;return a.Z.get("".concat(n,"discover/movie?api_key=").concat(o,"&sort_by=popularity.desc&page=").concat(e,"&primary_release_year=").concat(t)).then((function(e){return e.data.results}))},fetchExpectedMovies:function(){return a.Z.get("".concat(n,"/movie/upcoming?api_key=").concat(o)).then((function(e){return e.data.results}))}};t.Z=c},9831:function(e,t,i){e.exports=i.p+"static/media/poster.f55d248454cd0ab3bc5b.jpeg"}}]);
//# sourceMappingURL=992.0a262f3b.chunk.js.map