"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[233],{4640:function(e,n,t){t.r(n),t.d(n,{default:function(){return Z}});var r=t(3433),a=t(9439),c="HomePage_trandingMovies__2UC1J",s=t(5700),i=t(2743),o=t(2791),u=t(4771),l=t(7367),h=t(7596),f=t(1087),d=t(7689),m="GanreList_ganreList__Ukkui",g="GanreList_ganreListItem__oINk6",_=t(184);var x=function(e){var n=e.genres,t=(0,d.TH)();return(0,_.jsx)("ul",{className:m,children:n.map((function(e){var n=e.id,r=e.name;return(0,_.jsx)(f.rU,{to:"genre/".concat(n),state:{from:t},children:(0,_.jsx)("li",{className:g,children:(0,_.jsx)("p",{children:r})})},n)}))})};var Z=function(){var e=(0,o.useState)([]),n=(0,a.Z)(e,2),t=n[0],f=n[1],d=(0,o.useState)(1),m=(0,a.Z)(d,2),g=m[0],Z=m[1],j=(0,o.useState)(!1),k=(0,a.Z)(j,2),v=k[0],p=k[1],L=(0,o.useState)([]),w=(0,a.Z)(L,2),C=w[0],N=w[1],S=(0,o.useCallback)((function(){p(!0),l.Z.fetchTrending(g).then((function(e){p(!1),0===e.length&&h.Am.error("sorry ,thats all the movies we cold find"),f((function(n){return[].concat((0,r.Z)(n),(0,r.Z)(e))})),Z((function(e){return e+1}))})).catch((function(e){p(!1)}))}),[g]);return(0,o.useEffect)((function(){0===t.length&&S()}),[t,S]),(0,o.useEffect)((function(){l.Z.fetchAllgenres().then((function(e){N(e)})).catch("error")}),[]),(0,_.jsx)("section",{className:c,children:(0,_.jsxs)(s.Z,{children:[(0,_.jsx)(x,{genres:C}),(0,_.jsx)(u.Z,{dataLength:t.length,next:S,hasMore:!v,loader:(0,_.jsx)("p",{children:"Loading..."}),children:(0,_.jsx)(i.Z,{movies:t})})]})})}}}]);
//# sourceMappingURL=233.5344a6d3.chunk.js.map