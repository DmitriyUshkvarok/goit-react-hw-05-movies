"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[992],{2992:function(e,t,i){i.r(t),i.d(t,{default:function(){return p}});var a=i(9439),o=i(6952),n={detalis:"MovieDetalis_detalis__UlcmQ",posrerMovie:"MovieDetalis_posrerMovie__VIU-u",detalisWrapper:"MovieDetalis_detalisWrapper__Ap-mN",columnInfo:"MovieDetalis_columnInfo__KSsuK",btnBack:"MovieDetalis_btnBack__knIVC",iconBack:"MovieDetalis_iconBack__4gnQx",infoTitle:"MovieDetalis_infoTitle__V6MOk",scoreDetalis:"MovieDetalis_scoreDetalis__wswZn",overviewTitle:"MovieDetalis_overviewTitle__-X5em",overview:"MovieDetalis_overview__OZ4Y2",ganreListDetails:"MovieDetalis_ganreListDetails__2xy5E",columnImg:"MovieDetalis_columnImg__rXv+c",detalisImg:"MovieDetalis_detalisImg__3LoFp",reviewList:"MovieDetalis_reviewList__5y-3B",cast:"MovieDetalis_cast__cUluE",review:"MovieDetalis_review__gmdkb",videoBackdrop:"MovieDetalis_videoBackdrop__VDDyM",videoModal:"MovieDetalis_videoModal__nUs6R",iconBackModal:"MovieDetalis_iconBackModal__lydSk"},c=i(9085),r=i(5700),s=i(1087),l=i(7689),v=i(2791),d=i(7367),u=i(9831),h=i(9686),_=i(184);var p=function(){var e,t,i=(0,l.UO)().movieId,p=(0,l.TH)(),f=(0,v.useState)([]),m=(0,a.Z)(f,2),g=m[0],w=m[1],k=(0,v.useState)(null),M=(0,a.Z)(k,2),y=M[0],x=M[1],j=(0,v.useState)(!1),D=(0,a.Z)(j,2),N=D[0],b=D[1],Z=null!==(e=null===(t=p.state)||void 0===t?void 0:t.from)&&void 0!==e?e:"/";function B(){b(!1),x(null),document.body.style.overflow="auto"}(0,v.useEffect)((function(){d.Z.fetchMovieDetalis(i).then((function(e){w(e)})).catch("error")}),[i]),(0,v.useEffect)((function(){return window.addEventListener("keydown",I),function(){window.removeEventListener("keydown",I)}}));var I=function(e){"Escape"===e.code&&B()};return(0,_.jsx)(_.Fragment,{children:g&&(0,_.jsxs)("section",{className:n.detalis,children:[(0,_.jsx)("img",{className:n.posrerMovie,src:g.backdrop_path?"https://image.tmdb.org/t/p/w500/".concat(g.backdrop_path):u,alt:g.title}),(0,_.jsxs)(r.Z,{children:[(0,_.jsxs)("div",{className:n.detalisWrapper,children:[(0,_.jsxs)("div",{className:n.columnInfo,children:[(0,_.jsxs)(s.rU,{className:n.btnBack,type:"button",to:Z,children:[(0,_.jsx)(o.lox,{className:n.iconBack}),"Go Back"]}),(0,_.jsx)("h2",{className:n.infoTitle,children:g.title?g.title:"Movie without a title"}),(0,_.jsxs)("p",{className:n.scoreDetalis,children:["User score: ",(10*g.vote_average).toFixed(0),"%"]}),(0,_.jsx)("h3",{className:n.overviewTitle,children:"Overview"}),(0,_.jsx)("p",{className:n.overview,children:g.overview?g.overview:"Movie without a overview"}),(0,_.jsx)("ul",{className:n.ganreListDetails,children:g.genres&&g.genres.map((function(e){var t=e.name,i=e.id;return(0,_.jsx)("li",{children:t},i)}))})]}),(0,_.jsxs)("div",{className:n.columnImg,children:[(0,_.jsx)("img",{src:g.poster_path?"https://image.tmdb.org/t/p/w500/".concat(g.poster_path):u,alt:g.title?g.title:"Movie without a title",width:300,className:n.detalisImg,style:{cursor:"pointer"},onClick:function(){d.Z.fetchTrailerMovies(i).then((function(e){var t=e.find((function(e){return"Trailer"===e.type}));t?(x(t.key),b(!0),document.body.style.overflow="hidden"):(b(!1),c.Am.error("No trailer available for this movie."))}))}}),N&&y?(0,_.jsxs)("div",{className:n.videoBackdrop,onClick:function(e){e.currentTarget===e.target&&B()},children:[(0,_.jsx)(o.lox,{className:n.iconBackModal,onClick:B}),(0,_.jsx)(h.Z,{className:n.videoModal,videoId:y,opts:{width:"100%",height:"100%",playerVars:{autoplay:1,controls:0,cc_load_policy:0,fs:0,iv_load_policy:0,modestbranding:0,rel:0,showinfo:0},origin:"http://localhost:3000"}})]}):(0,_.jsx)("p",{children:"No trailer available for this movie."})]})]}),(0,_.jsxs)("ul",{className:n.reviewList,children:[(0,_.jsx)("li",{className:n.reviewiLstItem,children:(0,_.jsx)(s.rU,{to:"cast",state:p.state,className:n.cast,children:"Cast"})}),(0,_.jsx)("li",{className:n.reviewiLstItem,children:(0,_.jsx)(s.rU,{to:"review",state:p.state,className:n.review,children:"Rewiew"})})]}),(0,_.jsx)(v.Suspense,{children:(0,_.jsx)(l.j3,{})})]})]})})}},7367:function(e,t,i){var a=i(1243),o="https://api.themoviedb.org/3/",n="f27eea818d2010463700365b0c06a16e";var c={fetchMoviesbyActors:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return a.Z.get("".concat(o,"person/").concat(e,"/movie_credits?api_key=").concat(n,"&page=").concat(t)).then((function(e){return e.data.cast}))},fetchTrending:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return a.Z.get("".concat(o,"trending/all/day?api_key=").concat(n,"&page=").concat(e)).then((function(e){return e.data.results}))},fetchSearchMovie:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return a.Z.get("".concat(o,"search/movie?query=").concat(e,"&api_key=").concat(n,"&page=").concat(t)).then((function(e){return e.data.results}))},fetchMovieDetalis:function(e){return a.Z.get("".concat(o,"movie/").concat(e,"?api_key=").concat(n)).then((function(e){return e.data}))},fetchMovieCredits:function(e){return a.Z.get("".concat(o,"movie/").concat(e,"/credits?api_key=").concat(n)).then((function(e){return e.data}))},fetchMovieReview:function(e){return a.Z.get("".concat(o,"movie/").concat(e,"/reviews?api_key=").concat(n)).then((function(e){return e.data.results}))},fetchTrailerMovies:function(e){return a.Z.get("".concat(o,"movie/").concat(e,"/videos?api_key=").concat(n)).then((function(e){return e.data.results}))},fetchAllgenres:function(){return a.Z.get("".concat(o,"/genre/movie/list?api_key=").concat(n)).then((function(e){return e.data.genres}))},fetchByGenre:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return a.Z.get("".concat(o,"/discover/movie?api_key=").concat(n,"&with_genres=").concat(e,"&page=").concat(t)).then((function(e){return e.data}))},fetchActors:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return a.Z.get("".concat(o,"person/popular?api_key=").concat(n,"&page=").concat(e)).then((function(e){return e.data}))},fetchByYear:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1?arguments[1]:void 0;return a.Z.get("".concat(o,"discover/movie?api_key=").concat(n,"&sort_by=popularity.desc&page=").concat(e,"&primary_release_year=").concat(t)).then((function(e){return e.data.results}))}};t.Z=c},9831:function(e,t,i){e.exports=i.p+"static/media/poster.f55d248454cd0ab3bc5b.jpeg"}}]);
//# sourceMappingURL=992.31cc7f8b.chunk.js.map